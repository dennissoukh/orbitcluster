#!/usr/bin/env node
const dotenv = require('dotenv');

process.on('uncaughtException', err => {
    console.log('Uncaught Exception! Terminating Program...');
    console.log(err.name, err.message);
    process.exit(1);
});

/**
 * Module dependencies
 */
const app = require('../app');

/**
 * Run server
 */
const start = async () => {
    try {
        await app.listen(3000);
        app.log.info(`server listening on ${app.server.address().port}`);
    } catch (err) {
        app.log.error(err);
        process.exit(1);
    }
}

start();
